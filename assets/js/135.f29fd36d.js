(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{542:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("Wails")]),s._v("开发中的经验，本文持续更新")]),s._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h2",{attrs:{id:"wails-v2-如何使用-goland-调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v2-如何使用-goland-调试"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v2")]),s._v(" 如何使用 "),a("code",[s._v("Goland")]),s._v(" 调试")]),s._v(" "),a("h3",{attrs:{id:"创建项目的时候加上-ida-goland-即可"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目的时候加上-ida-goland-即可"}},[s._v("#")]),s._v(" 创建项目的时候加上 "),a("code",[s._v("--ida goland")]),s._v(" 即可")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("wails init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" yourProject "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ide")]),s._v(" goland\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"wails-v3-安装路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-安装路径"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 安装路径")]),s._v(" "),a("p",[s._v("我个人对路径这里没有弄的太懂，所以每次编译后，仅仅在项目的 "),a("code",[s._v("go/bin")]),s._v(" 上有 "),a("code",[s._v("wails3")]),s._v(" 这个文件出现，但是呢，这玩意又是全局引用的，所以还得拷贝一份到 "),a("code",[s._v("/usr/local/go/bin")]),s._v(" 下即可")]),s._v(" "),a("h2",{attrs:{id:"如何使用-wails-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何使用-wails-v3"}},[s._v("#")]),s._v(" 如何使用 "),a("code",[s._v("Wails v3")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wails v3")]),s._v(" 因为还在 "),a("code",[s._v("alpha")]),s._v(" 阶段，并不保证正式版发布后会沿用此写法\n"),a("code",[s._v("v3")]),s._v(" 需要使用到 "),a("code",[s._v("go 1.21")])])]),s._v(" "),a("h3",{attrs:{id:"安装-wails-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-wails-v3"}},[s._v("#")]),s._v(" 安装 "),a("code",[s._v("wails v3")])]),s._v(" "),a("ol",[a("li",[s._v("从 "),a("code",[s._v("GitHub")]),s._v(" 上面 "),a("code",[s._v("clone")]),s._v(" "),a("a",{attrs:{href:"https://github.com/wailsapp/wails",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("wails")]),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("切换到 "),a("code",[s._v("v3-alpha")]),s._v(" 分支")]),s._v(" "),a("li",[s._v("安装 "),a("code",[s._v("v3 cli")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("Windows")]),s._v(" 命令行操作 "),a("code",[s._v("cd wails\\v3\\cmd\\wails3 && go install")])]),s._v(" "),a("li",[a("code",[s._v("macOS")]),s._v(" 命令操作 "),a("code",[s._v("cd wails/v3/cmd/wails3 && go install")])])])])]),s._v(" "),a("h3",{attrs:{id:"wails-v3-创建以及运行项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-创建以及运行项目"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 创建以及运行项目")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先创建项目")]),s._v("\nwails3 init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" myproject "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" vue\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行项目")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" myproject "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" wail3 task build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("然后到开发工具中的 "),a("code",[s._v("main.go")]),s._v(" 文件中运行即可")]),s._v(" "),a("blockquote",[a("p",[s._v("需要注意的地方，目前的 "),a("code",[s._v("V3")]),s._v(" 版本并不支持实时预览，需要进行编译后再处理")])]),s._v(" "),a("h3",{attrs:{id:"wails-v3-在-goland-中使用-debug-模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-在-goland-中使用-debug-模式"}},[s._v("#")]),s._v(" "),a("code",[s._v("Wails V3")]),s._v(" 在 "),a("code",[s._v("GoLand")]),s._v(" 中使用 "),a("code",[s._v("debug")]),s._v(" 模式")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("Wails")]),s._v(" 项目中，打开 "),a("code",[s._v("GoLand")]),s._v(" 的「运行/调试配置」，点击「+」，选择「Go Build」，然后在「运行种类」中选择「软件包」，在「环境」中输入 "),a("code",[s._v('export CGO_LDFLAGS="-framework UniformTypeIdentifiers"')]),s._v(" ，在「 "),a("code",[s._v("Go")]),s._v(" 工具实参」中输入 "),a("code",[s._v('-tags dev -gcflags "all=-N -l"')])]),s._v(" "),a("h3",{attrs:{id:"wails-v3-一些问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-一些问题"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 一些问题")]),s._v(" "),a("h4",{attrs:{id:"wails-v3-前端写完后运行时没变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-前端写完后运行时没变化"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 前端写完后运行时没变化")]),s._v(" "),a("p",[a("s",[s._v("先执行一下 "),a("code",[s._v("wails3 task build")]),s._v(" 再运行，目前这玩意处于 "),a("code",[s._v("alpha")]),s._v(" 阶段，还不支持实时预览")])]),s._v(" "),a("p",[s._v("目前发现 "),a("code",[s._v("alpha3")]),s._v(" 中存在一个问题，就是控制台一直输出 "),a("code",[s._v('task: Task "build:frontend" is up to date')]),s._v(" 但是前端页面的的确确改变过的情况，目前采用的骚方案是，在终端中先进入到项目的 "),a("code",[s._v("fronend")]),s._v(" 目录下，然后执行 "),a("code",[s._v("npm run build -q")]),s._v(" 就可以解决该问题了，当然还是需要关闭相应的运行进程")]),s._v(" "),a("h4",{attrs:{id:"wails-v3-如何自定义菜单栏的图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何自定义菜单栏的图标"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 如何自定义菜单栏的图标")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建托盘")]),s._v("\n\tsystemTray "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewSystemTray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设您的资源文件在frontend/public/下")]),s._v("\n\tb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("_")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" assets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ReadFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"frontend/dist/logo120x.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设您的资源文件在 xingcxb.com/access/下")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// b, _ := assets.ReadFile("access/logo120x.png")')]),s._v("\n\tsystemTray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetTemplateIcon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[s._v("需要注意的是")]),s._v(" "),a("ol",[a("li",[s._v("您的资源文件放在了 "),a("code",[s._v("frontend/public")]),s._v(" 下的话，那么读取的地址就应该为上面的代码")]),s._v(" "),a("li",[s._v("您的资源文件在 "),a("code",[s._v("go")]),s._v(" 代码中，那么直接按根目录去读取即可")])])]),s._v(" "),a("h4",{attrs:{id:"wails-v3-设置窗口位置时出现闪烁的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-设置窗口位置时出现闪烁的情况"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 设置窗口位置时出现闪烁的情况")]),s._v(" "),a("p",[s._v("声明完 "),a("code",[s._v("*application.WebviewWindow")]),s._v(" 后立刻设置窗口位置即可")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("wails v3")]),s._v(" 中的 "),a("code",[s._v("macOS")]),s._v(" 坐标是左下角为原点，即(0,0)")]),s._v(" "),a("li",[a("code",[s._v("wails v3")]),s._v(" 中创建 "),a("code",[s._v("*application.WebviewWindow")]),s._v(" 必须要声明窗口的宽度和高度，不然的话设置坐标的时候容易出现无效的情况，目前不知道是否为 "),a("code",[s._v("bug")])])])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("mainWindow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewWebviewWindowWithOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindowOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetAbsolutePosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-获取屏幕出现失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-获取屏幕出现失败"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 获取屏幕出现失败")]),s._v(" "),a("p",[s._v("大概率是遇到了 "),a("code",[s._v("*application.App")]),s._v(" 没有加载完毕，我的做法是：初始化后并不创建窗口，直接等待点击后再来创建一个窗口，然后再通过 "),a("code",[s._v("app.GetPrimaryScreen()")]),s._v(" 来获取屏幕的宽度和高度。")]),s._v(" "),a("h4",{attrs:{id:"wails-v3-失去焦点隐藏时再次点击出来的时候出现忙碌的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-失去焦点隐藏时再次点击出来的时候出现忙碌的情况"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 失去焦点隐藏时再次点击出来的时候出现忙碌的情况")]),s._v(" "),a("p",[s._v("我遇到的情况应该是阻碍了主线程导致的，直接使用协程包裹一下就没事了")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("WindowLostFocus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("RegisterHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WindowLostFocus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WindowEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 目前这里出现了卡顿的情况")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Hide")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-隐藏窗口再次显示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-隐藏窗口再次显示"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 隐藏窗口再次显示")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ol",[a("li",[s._v("在通过 "),a("code",[s._v("*application.App")]),s._v(" 声明一个新的 "),a("code",[s._v("NewWebviewWindowWithOptions")]),s._v(" 时需要添加 "),a("code",[s._v("Name")]),s._v(" 属性")]),s._v(" "),a("li",[a("code",[s._v("mainWindowName")]),s._v(" 是我定义的窗口名称")])])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ok "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GetWindowByName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mainWindowName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ok "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断如果当前的窗口已经存在，则显示并聚焦")]),s._v("\n\t\tw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Focus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-如何使用事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何使用事件"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 如何使用事件")]),s._v(" "),a("p",[s._v("目前因为 "),a("code",[s._v("V3")]),s._v(" 还处于 "),a("code",[s._v("alpha")]),s._v(" 阶段，可能后续有进行改变的可能，所以此方案仅供参考")]),s._v(" "),a("blockquote",[a("p",[s._v("前端和后端的数据传输都是通过 "),a("code",[s._v("*application.WailsEvent")]),s._v(" 来进行的，数据传输就在 "),a("code",[s._v("Data")]),s._v(" 中进行，事件的名称就在 "),a("code",[s._v("Name")]),s._v(" 中进行")])]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("go")]),s._v(" 代码中在 "),a("code",[s._v("*application.App")]),s._v(" 中绑定监听函数")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设 app 为 *application.App")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理监听中指定名字的数据")]),s._v("\n app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("On")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myEventToCore"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将处理后的数据返回给前台")]),s._v("\n   app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myEventToFrontend"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 绑定事件名称")]),s._v("\n     Data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 绑定事件从前端获取到的数据")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("前端代码中")])])]),s._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[s._v("... function sendData(){\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 发送数据到后端，通过name标记的名字由后端识别并解释 --\x3e")]),s._v('\nwails.Events.Emit({name: "myEventToCore", Data:""})\n'),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 监听后端发回来的数据，通过name标记的名字来进行处理 --\x3e")]),s._v('\nwails.Events.Once("myEventToFrontend", function (data) { let currentHTML =\ndocument.getElementById("results").innerHTML;\ndocument.getElementById("results").innerHTML = currentHTML + "\n'),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("br")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v('\n" + JSON.stringify(data); }) } ...\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-如何在初始化时出现错误弹出提示框-并退出程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何在初始化时出现错误弹出提示框-并退出程序"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 如何在初始化时出现错误弹出提示框，并退出程序")]),s._v(" "),a("p",[s._v("我个人的经验就是在 "),a("code",[s._v("main.go")]),s._v(" 中使用协程，然后在初始化的时候会报错的函数上面延时 "),a("code",[s._v("1s")]),s._v(" 后再进行处理，这样就可以在初始化的时候出现错误弹出提示框，并退出程序")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 初始化数据库")]),s._v("\n    db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("InitDB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断是否启动成功")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sqlite3Status "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Quit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("sqlite3Db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tsqlite3Db "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DB "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sqlite3数据库连接")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Sqlite3Status 启动状态，默认为false。true：启动，false：未启动")]),s._v("\n\tSqlite3Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("InitDb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Second"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出提示框")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  Sqlite3Status "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-如何打包应用程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何打包应用程序"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 如何打包应用程序")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：目前 "),a("code",[s._v("wails v3")]),s._v(" 还处于 "),a("code",[s._v("alpha")]),s._v(" 阶段，打包的功能还没有完善，所以目前的打包方式仅供参考\ns3 build -p windows")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n- `macOS` 打包\n\n``` shell\nwails3 task create-app-bundle\n\n# 240208后新的打包方式\nwails3 task package\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("目前遇到一个问题就是打包后显示的是默认的图标，而不是自定义的 "),a("code",[s._v("icons")]),s._v(" 暂时没有找到解决方案")])]),s._v(" "),a("h4",{attrs:{id:"wails-v3-如何在调试中申请自动化权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何在调试中申请自动化权限"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 如何在调试中申请自动化权限")]),s._v(" "),a("p",[s._v("如果是正常的 "),a("code",[s._v("wails3 task build")]),s._v(" 的话，那么在调试中是无法申请自动化权限的，需要在 "),a("code",[s._v("wails3 task build")]),s._v(" 之后再进行 "),a("code",[s._v("wails3 task create-app-bundle")]),s._v(" 打包，然后在打包后的 "),a("code",[s._v("app")]),s._v(" 中进行调试。但是都已经打包了也就不符合我开发过程中调试的目的了，所以想了一个骚方法，另外没有那么多弯弯绕绕不需要去特别申请什么自动化的权限...一切交给系统吧")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动时就申请一个权限，后面代码可以撤销")]),s._v("\ncmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" exec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"osascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-e"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('`tell application "System Events" to display dialog "Hello, World!"`')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nerr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Fatal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("New")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-中窗口关闭后再次激活窗口出现两个事件绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-中窗口关闭后再次激活窗口出现两个事件绑定"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 中窗口关闭后再次激活窗口出现两个事件绑定")]),s._v(" "),a("p",[s._v("原因是因为 "),a("code",[s._v("wails v3")]),s._v(" 中的 "),a("code",[s._v("app.Events.On")]),s._v(" 是绑定的全局事件，所以在窗口关闭后再次激活窗口的时候会再次绑定事件，所以需要在窗口关闭的时候将事件解绑")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("On")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EventsHandleCardDoubleClickToCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 关闭事件")]),s._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Off")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EventsHandleCardDoubleClickToCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"wails-v3-在-windows-下运行出现一个-cmd-窗口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-在-windows-下运行出现一个-cmd-窗口"}},[s._v("#")]),s._v(" "),a("code",[s._v("wails v3")]),s._v(" 在 "),a("code",[s._v("Windows")]),s._v(" 下运行出现一个 "),a("code",[s._v("cmd")]),s._v(" 窗口")]),s._v(" "),a("p",[s._v("构建的时候加上 "),a("code",[s._v('-ldflags="-H windows gui"')]),s._v(" 即可")]),s._v(" "),a("h3",{attrs:{id:"遭遇过的错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遭遇过的错误"}},[s._v("#")]),s._v(" 遭遇过的错误")]),s._v(" "),a("h4",{attrs:{id:"rollup-failed-to-resolve-import-vite-svg-from"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rollup-failed-to-resolve-import-vite-svg-from"}},[s._v("#")]),s._v(" "),a("code",[s._v('Rollup failed to resolve import "/vite.svg" from')])]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("App.vue")]),s._v(" 文件中指定 "),a("code",[s._v("vitejs")]),s._v(" 的 "),a("code",[s._v("svg")]),s._v(" 文件不存在，改下就好了")]),s._v(" "),a("h2",{attrs:{id:"wails-v3-中绑定-url-无效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-中绑定-url-无效"}},[s._v("#")]),s._v(" "),a("code",[s._v("Wails v3")]),s._v(" 中绑定 "),a("code",[s._v("URL")]),s._v(" 无效")]),s._v(" "),a("p",[s._v("如果采用的是 "),a("code",[s._v('<router-view :key:="..." />')]),s._v(" 那么这个时候在 "),a("code",[s._v("go")]),s._v(" 代码中需要使用 "),a("code",[s._v("#/...")]),s._v(" 来进行绑定，而不是直接使用链接")])],1)}),[],!1,null,null,null);a.default=e.exports}}]);